---
phase: 20-submit-redesign
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/qm_nmr_calc/api/static/css/pages/submit-page.css
autonomous: true

must_haves:
  truths:
    - "Form groups have consistent padding, borders, and visual separation"
    - "Two-column layout shows form left, preview area right on desktop"
    - "Required field indicator styling renders red asterisk"
    - "Field help text is visually distinct from labels"
    - "Preview card has solid white background (not glass)"
  artifacts:
    - path: "src/qm_nmr_calc/api/static/css/pages/submit-page.css"
      provides: "Submit page CSS components"
      contains: ".submit-layout"
    - path: "src/qm_nmr_calc/api/static/css/pages/submit-page.css"
      provides: "Form group component"
      contains: ".form-group"
    - path: "src/qm_nmr_calc/api/static/css/pages/submit-page.css"
      provides: "Preview card component"
      contains: ".preview-card"
  key_links:
    - from: "src/qm_nmr_calc/api/static/css/pages/submit-page.css"
      to: "tokens.css"
      via: "CSS custom properties"
      pattern: "var\\(--"
---

<objective>
Create submit-page.css with form layout components, preview card, and required field styling

Purpose: Establish CSS foundation for submit page redesign - page-specific components following Phase 18 patterns
Output: Single CSS file with form-group, submit-layout, preview-card, required-indicator, and field-help components
</objective>

<execution_context>
@/home/chris/.claude/get-shit-done/workflows/execute-plan.md
@/home/chris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/20-submit-redesign/20-RESEARCH.md

# CSS patterns established in Phase 18
@src/qm_nmr_calc/api/static/css/tokens.css
@src/qm_nmr_calc/api/static/css/base.css
@src/qm_nmr_calc/api/static/css/pages/results-page.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create submit-page.css with form layout components</name>
  <files>src/qm_nmr_calc/api/static/css/pages/submit-page.css</files>
  <action>
Create new CSS file following Phase 18 patterns (see results-page.css for structure).

File header comment explaining purpose (submit page form styling).

All styles in `@layer components { ... }` block.

Include these components:

**1. Submit Layout (two-column grid):**
```css
.submit-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--space-xl);
    align-items: start;
}

@media (max-width: 900px) {
    .submit-layout {
        grid-template-columns: 1fr;
    }

    .submit-layout__preview {
        order: -1; /* Preview first on mobile */
    }
}
```

**2. Form Group (fieldset styling with BEM):**
```css
.form-group {
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    background: var(--color-white);
}

.form-group legend {
    font-weight: 600;
    font-size: var(--text-lg);
    padding: 0 var(--space-sm);
    color: var(--color-text);
}

.form-group__field {
    margin-bottom: var(--space-md);
}

.form-group__field:last-child {
    margin-bottom: 0;
}
```

**3. Required Indicator:**
```css
.required-indicator {
    color: var(--color-error);
    margin-left: var(--space-xs);
}
```

**4. Field Help (descriptive text):**
```css
.field-help {
    display: block;
    margin-top: var(--space-xs);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    line-height: 1.4;
}
```

**5. Form Instructions:**
```css
.form-instructions {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-lg);
}
```

**6. Preview Card (solid background like viewer-card):**
```css
.preview-card {
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--glass-radius);
    box-shadow: var(--glass-shadow);
    padding: var(--space-lg);
    position: sticky;
    top: var(--space-lg);
}

.preview-card__title {
    font-size: var(--text-lg);
    font-weight: 600;
    margin: 0 0 var(--space-md) 0;
}

.preview-card__canvas {
    width: 100%;
    aspect-ratio: 1;
    background: var(--color-gray-50);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--space-xs);
}

.preview-card__status {
    margin-top: var(--space-md);
    font-size: var(--text-sm);
    text-align: center;
}

.preview-card__status--valid {
    color: var(--color-success);
}

.preview-card__status--invalid {
    color: var(--color-error);
}

.preview-card__status--empty {
    color: var(--color-text-muted);
}
```

**7. Submit Button (full-width on mobile):**
```css
.submit-form__button {
    margin-top: var(--space-lg);
}

@media (max-width: 600px) {
    .submit-form__button {
        width: 100%;
    }
}
```

**8. Advanced Options styling:**
```css
.form-group--advanced {
    border: none;
    padding: var(--space-md) 0 0 0;
    margin: 0;
    background: transparent;
}

.form-group--advanced legend {
    display: none;
}
```

Use design tokens throughout (--space-*, --color-*, --text-*, --glass-*). Do NOT use hardcoded values.
  </action>
  <verify>
- File exists at src/qm_nmr_calc/api/static/css/pages/submit-page.css
- File contains @layer components block
- File contains .submit-layout, .form-group, .preview-card, .required-indicator, .field-help classes
- All values use CSS custom properties from tokens.css (grep for var(--)
  </verify>
  <done>
Submit page CSS file created with all required components: two-column layout, form-group fieldsets, preview card, required indicators, field help text, and responsive breakpoints.
  </done>
</task>

</tasks>

<verification>
1. CSS file exists and is syntactically valid
2. All component classes defined: .submit-layout, .form-group, .preview-card, .required-indicator, .field-help
3. Design tokens used throughout (no hardcoded colors, spacing, or font sizes)
4. Responsive breakpoint at 900px collapses to single column
5. Preview card uses solid background (not glass effect)
</verification>

<success_criteria>
- [ ] submit-page.css exists in pages/ directory
- [ ] All styles wrapped in @layer components
- [ ] Design tokens referenced (--space-*, --color-*, --text-*, --glass-*)
- [ ] Two-column grid layout with responsive collapse
- [ ] Form group component with BEM naming
- [ ] Preview card with solid white background
- [ ] Required indicator with error color
- [ ] Field help text styling
</success_criteria>

<output>
After completion, create `.planning/phases/20-submit-redesign/20-01-SUMMARY.md`
</output>
