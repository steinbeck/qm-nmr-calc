---
phase: 65-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - data/benchmark/delta50/SCALING-FACTORS.md
  - README.md
  - docs/science.md
  - docs/libraries.md
  - docs/usage.md
autonomous: true

must_haves:
  truths:
    - "SCALING-FACTORS.md documents all 26 factor sets (13 solvents x 2 nuclei) with correct numeric values"
    - "README lists all 13 supported solvents with codes, names, and use cases"
    - "No documentation file references stale solvent counts (3 or 7)"
    - "All numeric values in SCALING-FACTORS.md match scaling_factors.json within rounding tolerance"
  artifacts:
    - path: "data/benchmark/delta50/SCALING-FACTORS.md"
      provides: "Complete scaling factor documentation with 26 entries"
      contains: "vacuum"
    - path: "README.md"
      provides: "User-facing solvent list with 13 entries"
      contains: "13 NMR solvents"
  key_links:
    - from: "data/benchmark/delta50/SCALING-FACTORS.md"
      to: "src/qm_nmr_calc/data/scaling_factors.json"
      via: "numeric values extracted and rounded"
      pattern: "vacuum"
    - from: "README.md"
      to: "src/qm_nmr_calc/solvents.py"
      via: "solvent codes and display names"
      pattern: "pyridine|thf|toluene|dcm|acetonitrile|dmf"
---

<objective>
Update all documentation to reflect 13-solvent support, completing DOCS-01 and DOCS-02 requirements for the v2.9 milestone.

Purpose: Phase 64 wired 6 new solvents through production code, but documentation still references 7 solvents. Users reading docs will see incorrect solvent counts and missing entries. This plan brings all docs into alignment with the actual 13-solvent system.

Output: Updated SCALING-FACTORS.md (26 factor sets), README.md (13 solvents), and corrected cross-references in docs/science.md, docs/libraries.md, and docs/usage.md.
</objective>

<execution_context>
@/home/chris/.claude/get-shit-done/workflows/execute-plan.md
@/home/chris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/65-documentation/65-RESEARCH.md

# Source of truth for numeric values
@src/qm_nmr_calc/data/scaling_factors.json

# Source of truth for solvent codes and display names
@src/qm_nmr_calc/solvents.py

# Files to update
@data/benchmark/delta50/SCALING-FACTORS.md
@README.md
@docs/science.md
@docs/libraries.md
@docs/usage.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add vacuum factors to SCALING-FACTORS.md and update Notes</name>
  <files>data/benchmark/delta50/SCALING-FACTORS.md</files>
  <action>
Add 2 vacuum scaling factor rows to the main table in SCALING-FACTORS.md, bringing the total from 24 to 26 entries.

1. Read `src/qm_nmr_calc/data/scaling_factors.json` to extract vacuum factor values for both nuclei:
   - Key: `B3LYP/6-311+G(2d,p)/13C/vacuum`
   - Key: `B3LYP/6-311+G(2d,p)/1H/vacuum`

2. Format values using established precision conventions:
   - Slope: 4 decimal places (e.g., -0.9375)
   - Intercept: 2 decimal places (e.g., 29.92)
   - R-squared: 4 decimal places (e.g., 0.9952)
   - MAE: 3 decimal places (e.g., 0.124)
   - RMSD: 3 decimal places (e.g., 0.163)
   - n: integer
   - Confidence intervals: same precision as parent value

3. Insert vacuum rows at the END of each nucleus group (after Water in 13C group, after Water in 1H group). This follows the convention from research -- vacuum is last because it was not part of the original DELTA50 solvents.

4. Update the Notes section (line ~1583-1589):
   - Change "DMSO solvent: Uses same experimental data as CHCl3" to describe ALL 13 solvents: All solvents use same DELTA50 experimental reference data (measured in CDCl3) with COSMO solvent model applied during DFT calculation. Vacuum factors are calculated without COSMO.
   - Keep the WP04 and outlier removal notes as-is.

5. Write a throwaway Python verification script that:
   - Reads scaling_factors.json
   - Parses ALL table rows from SCALING-FACTORS.md
   - Compares each value with appropriate rounding tolerance
   - Asserts exactly 26 rows found
   - Reports PASS/FAIL
   Run the script and confirm PASS.
  </action>
  <verify>
Run verification script: `python -c "import json, re; f=json.load(open('src/qm_nmr_calc/data/scaling_factors.json')); c=open('data/benchmark/delta50/SCALING-FACTORS.md').read(); rows=re.findall(r'\| (1H|13C) \|', c); print(f'Found {len(rows)} factor set rows'); assert len(rows)==26, f'Expected 26, got {len(rows)}'"` -- should print "Found 26 factor set rows".

Additionally, run the full verification script that checks numeric values match JSON source.

Run `uv run pytest tests/ -x -q` to ensure no test regressions.
  </verify>
  <done>SCALING-FACTORS.md contains exactly 26 factor set rows (13 solvents x 2 nuclei), including vacuum for both 1H and 13C. All numeric values match scaling_factors.json within rounding tolerance. Notes section accurately describes 13-solvent COSMO methodology.</done>
</task>

<task type="auto">
  <name>Task 2: Update README and fix stale cross-references in docs/</name>
  <files>README.md, docs/science.md, docs/libraries.md, docs/usage.md</files>
  <action>
Update README.md and fix all stale solvent references across documentation.

**README.md updates:**

1. Line 14: Change `**7 NMR solvents** including chloroform, DMSO, methanol, water, acetone, benzene, and gas phase` to `**13 NMR solvents** including chloroform, DMSO, methanol, water, acetone, benzene, pyridine, THF, toluene, DCM, acetonitrile, DMF, and gas phase`.

2. Supported Solvents table (lines 103-112): Add 6 new rows for the new solvents. Use `src/qm_nmr_calc/solvents.py` SUPPORTED_SOLVENTS dict as source of truth for codes and display names. New entries to add (alphabetically interleaved with existing):
   - `acetonitrile` | Acetonitrile (Acetonitrile-d3) | Polar aprotic
   - `dcm` | Dichloromethane (CD2Cl2) | Halogenated solvent
   - `dmf` | DMF (DMF-d7) | High-boiling polar aprotic
   - `pyridine` | Pyridine (Pyridine-d5) | Basic aromatic solvent
   - `thf` | THF (THF-d8) | Ethereal solvent
   - `toluene` | Toluene (Toluene-d8) | Aromatic nonpolar

   Sort the table alphabetically by code (acetone, acetonitrile, benzene, chcl3, dcm, dmf, dmso, methanol, pyridine, thf, toluene, vacuum, water). Verify display names and deuterated forms match solvents.py.

**docs/science.md fixes:**

3. Line 278: Change "derived separately for each solvent (CHCl3, DMSO, vacuum)" to "derived separately for each of the 13 supported solvents (see README for full list)".

4. Line 284-291: The "Solvents Supported in This Project" section lists only chcl3, dmso, and states "Scaling factors are currently available for CHCl3, DMSO, and vacuum." Update this to list all 13 solvents, or replace with a reference: "The QM NMR Calculator supports 13 solvents via NWChem's COSMO implementation. See the README Supported Solvents table for the full list with codes. Scaling factors are available for all 13 solvents."

5. Lines 400+: The parameter table shows only 6 columns (CHCl3, DMSO, vacuum). This is a detailed statistics comparison table. Rather than expanding to 26 columns (impractical), add a note: "Full scaling factors for all 13 solvents are documented in [SCALING-FACTORS.md](../data/benchmark/delta50/SCALING-FACTORS.md)."

6. Lines 416-423: "Comparison Across Solvents" section references only CHCl3 vs DMSO. Update to note that factor variation across all 13 solvents follows the same pattern, with nonpolar solvents (benzene, toluene) showing slightly different slopes than polar solvents.

**docs/libraries.md fix:**

7. Line 247: Change `Supported solvents: \`chcl3\`, \`dmso\`, \`water\`, \`acetone\`, \`methanol\`, \`vacuum\`` to list all 13: `\`acetone\`, \`acetonitrile\`, \`benzene\`, \`chcl3\`, \`dcm\`, \`dmf\`, \`dmso\`, \`methanol\`, \`pyridine\`, \`thf\`, \`toluene\`, \`vacuum\`, \`water\``.

**docs/usage.md fix:**

8. Line 435: Change `NMR solvent: \`chcl3\`, \`dmso\`, or \`vacuum\`` to list all 13 solvent codes or reference the README table: `NMR solvent (see README for all 13 supported codes, e.g., \`chcl3\`, \`dmso\`, \`acetonitrile\`)`.

9. Line 481: The example response `["chcl3", "dmso", "vacuum"]` -- update to show the full list of 13 solvent codes alphabetically.
  </action>
  <verify>
Verify README solvent table has 13 data rows: `grep -c '^| \x60' README.md` should return 13.

Verify no stale "3 solvent" or "7 solvent" references remain: `grep -rn '3 solvent\|7 solvent\|7 NMR' README.md docs/` should return no matches.

Verify no stale "CHCl3, DMSO, vacuum" three-item lists remain: `grep -rn 'chcl3.*dmso.*vacuum' docs/` should return no matches (or only appropriate context).

Run `uv run pytest tests/ -x -q` to ensure no test regressions.
  </verify>
  <done>README features line says "13 NMR solvents". README Supported Solvents table has 13 rows with all solvents listed alphabetically. docs/science.md, docs/libraries.md, and docs/usage.md no longer reference stale 3-solvent or 7-solvent counts. All cross-references point to correct, current information.</done>
</task>

</tasks>

<verification>
1. SCALING-FACTORS.md has exactly 26 factor set rows (grep count)
2. README Supported Solvents table has exactly 13 rows (grep count)
3. All numeric values in SCALING-FACTORS.md match scaling_factors.json (verification script)
4. No stale solvent counts ("3 solvent", "7 solvent", "7 NMR") in any doc file
5. `uv run pytest tests/ -x -q` passes (454+ passing)
</verification>

<success_criteria>
- DOCS-01 satisfied: SCALING-FACTORS.md documents all 26 factor sets with R-squared, MAE, and correct numeric values
- DOCS-02 satisfied: README lists all 13 supported solvents with codes and display names
- Cross-references valid: No documentation file contains stale solvent counts or incomplete solvent lists
- Tests pass: No regressions from documentation changes
</success_criteria>

<output>
After completion, create `.planning/phases/65-documentation/65-01-SUMMARY.md`
</output>
