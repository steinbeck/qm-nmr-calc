# qm-nmr-calc Environment Configuration
# ======================================
# Copy this file to .env and customize values for your deployment.
# Default values (shown below) are suitable for most single-server deployments.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your preferred settings
#   docker compose up -d

# ============================================================================
# API Configuration
# ============================================================================

# Port to expose the API on the host machine
# Note: When using Caddy (default), API is only accessible via Caddy on ports 80/443
# To access API directly (debugging), uncomment ports section in docker-compose.yml
API_PORT=8000

# ============================================================================
# HTTPS Configuration (Caddy)
# ============================================================================

# Domain for automatic HTTPS certificates via Let's Encrypt
# When set: Caddy obtains certificates and serves HTTPS
# When empty: Caddy serves HTTP on localhost (development mode)
#
# Example: DOMAIN=nmr.example.com
# Note: Domain must point to this server's IP before starting
DOMAIN=

# Email for Let's Encrypt certificate notifications (optional)
# Recommended for production to receive expiry warnings
# Example: ACME_EMAIL=admin@example.com
ACME_EMAIL=

# ============================================================================
# Worker Configuration
# ============================================================================

# Number of MPI processes for NWChem calculations
# Auto-detection: Uses 80% of available CPU cores (max 40) if not set
# Override only if you want a specific value
# NWCHEM_NPROC=8

# Number of OpenMP threads for CREST/xTB conformer search
# Auto-detection: Matches NWCHEM_NPROC if not set
# Note: CREST parallelizes internally, so more threads = faster search
# OMP_NUM_THREADS=8

# Container memory limit for the worker
# NWChem DFT calculations can use significant memory
# Recommendation: At least 2GB per MPI process
# Examples: 4g, 8g, 16g
WORKER_MEMORY_LIMIT=8g

# ============================================================================
# Email Notifications (optional - future feature)
# ============================================================================
# Leave empty to disable email notifications

# SMTP server hostname
SMTP_HOST=

# SMTP server port (usually 587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP authentication credentials
SMTP_USER=
SMTP_PASS=

# Email address for "From" field
SMTP_FROM=

# ============================================================================
# Advanced Options
# ============================================================================

# The docker-compose.yml uses a 5-minute stop_grace_period by default.
# This allows long-running NMR calculations to complete during shutdown.
#
# If you have very large molecules or high-accuracy calculations that take
# longer than 5 minutes, you can modify docker-compose.yml directly:
#   stop_grace_period: 600s  # 10 minutes
#
# Note: SIGINT is used for graceful shutdown, which tells Huey to finish
# the current task before stopping. Do not change stop_signal.
